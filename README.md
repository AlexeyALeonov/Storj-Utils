# Storj-Utils

Скрипт проверки основных параметров работы ноды Storjshare-Cli для Linux.<br/>

![Storj bash health script](http://maxrival.com/content/images/2017/05/storj-bash-healt-script-v1.0.2.png)

Скрипт работает на CentOS Linux release 7.0.1406 (Core)
<hr>
Установка
```bash
wget https://raw.githubusercontent.com/AntonMZ/Storj-Utils/master/health.sh
```
<hr>
- [**NodeID**]<br/>
Уникальный идентификатор ноды.<br/>
Данные берутся из **storjshare status**

<hr>

- [**ResponseTime**]<br/>
Показатель стабильности работы.<br/>
Выставляется непосредственно бриджем.<br/>
Данные берутся с api.storj.io

    Cтатусы<br/>
    - **good** - в пределах нормы
    - **bad** - не в пределах нормы

`Для Москвы нормой считается значение данного показателя до 1000`<br/>
  Выставляется непосредственно бриджем.<br/>
  Данные берутся с api.storj.io

<hr>

- [**Address**]<br/>
Текущий IP адрес ноды<br/>
Данные берутся локально с сервера.<br/>
Сравнение локальных данных с данными с api.storj.io не производится.

<hr>

- [**User Agent**]<br/>
Версия агента на ноде.<br/>
Данные берутся с api.storj.io

<hr>

- [**Last Seen**]<br/>
Последнее появление в сети зафиксированное бриджем.<br/>
Данные берутся с api.storj.io.

<hr>

- [**Port**]<br/>
Порт ноды<br/>
Данные берутся с api.storj.io<br/>
С локальными данными не сравнивается, так как данные на api.storj.io приходят с ноды.


 При запуску скрипта осуществляется проверка порта на ***открыт/закрыт*** через внешний api ресурс.
    
Cтатусы<br/>
    
    - **open** - порт открыт
    - **close** - порт закрыт

    Стоит учесть тот момент, что порт может быть закрыт по многим причинам.<br/>
    
    Самые распространенные:
 
    - порт закрыт брандмауэром Windows или iptables
    - порт не "проброшен" в роутере/маршрутизаторе

<hr>

- [**Protocol**]<br/>
Версия протокола storjshare-cli<br/>
Данные берутся с api.storj.io
С локальными данными не сравнивается, так как данные на api.storj.io приходят с ноды.

<hr>

- [**Last Timeout**]<br/>
Данные берутся с api.storj.io

<hr>

- [**Timeout Rate**]<br/>
Данные берутся с api.storj.io

<hr>

- [**DeltaTime**]<br/>
Параметр проверяет синхронизацию локального времени и времени эталонного NTP сервера. Параметр передается непосредственно бриджом сети.<br/>

<hr>
Описание всех параметров будет представлено отдельной публикацией на сайте http://maxrival.com
